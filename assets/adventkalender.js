// Generated by CoffeeScript 1.6.3
(function() {
  var day, days, days_list, days_till_xmas, dec24, now, render, text, todays_data, todays_window;

  days = {
    1: {
      title: "Get a free ebook",
      description: "Get the free ebook \"Efficiency in Development Workflows\".",
      callToAction: "Download ebook",
      link: "http://ebooks.codeship.io/efficiency-in-development-workflows-by-codeship"
    },
    2: {
      title: "Vagrant Machines with Packer",
      description: "Learn how to build Vagrant Machines with Packer",
      callToAction: "Read blog post",
      link: "http://blog.codeship.io/2013/11/07/building-vagrant-machines-with-packer.html"
    },
    3: {
      title: "Unit testing with Angular JS",
      description: "Learn Unit Testing best practices in AngularJS",
      callToAction: "Read blog post",
      link: "http://blog.codeship.io"
    },
    4: {
      title: "Free Codeschool course",
      description: "Get a video at Codeschool for free!",
      callToAction: "Watch video",
      link: "http://blog.codeship.io"
    },
    5: {
      title: "Free Codeschool course",
      description: "Get a video at Codeschool for free!",
      callToAction: "Watch video",
      link: "http://blog.codeship.io"
    }
  };

  dec24 = new Date(2013, 11, 24);

  now = new Date();

  now = new Date(2013, 11, 3);

  days_till_xmas = Math.ceil((dec24 - now) / (24 * 60 * 60 * 1000));

  todays_window = 24 - days_till_xmas;

  todays_window = Math.max(1, todays_window);

  todays_window = Math.min(24, todays_window);

  render = function(template_name, data) {
    var $element, rendered, template;
    template = $("#" + template_name + "_template").html();
    $element = $("#" + template_name);
    rendered = Mustache.render(template, data);
    return $element.html(rendered);
  };

  todays_data = days[todays_window];

  todays_data.day = todays_window;

  render("today", todays_data);

  days_list = (function() {
    var _results;
    _results = [];
    for (day in days) {
      text = days[day];
      text.day = day;
      if (todays_window >= day) {
        text.open = true;
      }
      _results.push(text);
    }
    return _results;
  })();

  render("days", {
    days: days_list
  });

}).call(this);
